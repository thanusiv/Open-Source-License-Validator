	 * @param index  the index for AST generation, needs to be read-locked.