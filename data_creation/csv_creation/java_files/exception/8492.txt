   * @throws ServiceStateException if the transition is not permitted