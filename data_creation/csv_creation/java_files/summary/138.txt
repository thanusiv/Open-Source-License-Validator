// determine mode for each launch